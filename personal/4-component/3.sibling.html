<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="box">
        <prev></prev>
        <next></next>
    </div>
    <script src="../node_modules/vue/dist/vue.js"></script>
    <script>
        var cpc = new Vue();
        new Vue({
            el:"#box",
            components:{
                prev:{
                    template:"<div><h3>老大说：</h3><button @click='send'>发送</button><input type='text' v-model='words'></div>",
                    data:function(){
                        return {words:""};
                    },
                    methods:{
                        send:function(){
                            cpc.$emit("sendmsg",this.words);
                        }
                    }
                },
                next:{
                    mounted:function(){
                        cpc.$on("sendmsg",this.get);
                    },
                    template:"<div><h3>老二说：</h3><p>{{msg}}</p></div>",
                    data:function(){
                        return {msg:""};
                    },
                    methods:{
                        get:function(val){
                            console.log(val);
                            this.msg = val;
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>